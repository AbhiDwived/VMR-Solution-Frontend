#!/usr/bin/env node

const fs = require('fs');\nconst path = require('path');\nconst glob = require('glob');\n\n// Common fixes\nconst fixes = [\n  // Remove unused imports\n  { pattern: /import { useRouter } from 'next\\/navigation';\\s*\\n/, replacement: '' },\n  \n  // Fix unused variables by prefixing with underscore\n  { pattern: /\\b(\\w+):\\s*([^,}]+),?\\s*\\/\\/ unused/g, replacement: '_$1: $2,' },\n  { pattern: /\\b(data|error|result|index|item|id|quantity|code|filters|sortBy|productId|size|color|variant|address|methodId|orderId|animationDelay|onAddToCart|relatedProducts):/g, replacement: '_$1:' },\n  { pattern: /\\b(data|error|result|index|item|id|quantity|code|filters|sortBy|productId|size|color|variant|address|methodId|orderId|animationDelay|onAddToCart|relatedProducts)\\s*=>/g, replacement: '_$1 =>' },\n  { pattern: /\\b(data|error|result|index|item|id|quantity|code|filters|sortBy|productId|size|color|variant|address|methodId|orderId|animationDelay|onAddToCart|relatedProducts),/g, replacement: '_$1,' },\n  \n  // Remove console.log statements\n  { pattern: /\\s*console\\.log\\([^)]*\\);?\\s*\\n/g, replacement: '' },\n  \n  // Fix hydration pattern\n  { pattern: /useEffect\\(\\(\\) => {\\s*setIsHydrated\\(true\\);\\s*}, \\[\\]\\);/g, replacement: 'const isHydrated = useHydration();' },\n  \n  // Add useHydration import where needed\n  { pattern: /(import.*from 'react';)/g, replacement: \"$1\\nimport { useHydration } from '@/lib/hooks/useHydration';\" },\n];\n\n// Get all TypeScript/JavaScript files in src\nconst files = glob.sync('src/**/*.{ts,tsx,js,jsx}', { cwd: process.cwd() });\n\nconsole.log(`Fixing ${files.length} files...`);\n\nfiles.forEach(file => {\n  const filePath = path.join(process.cwd(), file);\n  let content = fs.readFileSync(filePath, 'utf8');\n  let changed = false;\n  \n  fixes.forEach(fix => {\n    const newContent = content.replace(fix.pattern, fix.replacement);\n    if (newContent !== content) {\n      content = newContent;\n      changed = true;\n    }\n  });\n  \n  if (changed) {\n    fs.writeFileSync(filePath, content);\n    console.log(`Fixed: ${file}`);\n  }\n});\n\nconsole.log('Done! Run npm run lint to check remaining issues.');